require 'webrick'

server = WEBrick::HTTPServer.new :Port => 1726

response_content = File.read ARGV[0]

server.mount_proc("/pull_features") do |request, response|
  response.body = response_content
  response['Content-Type'] = 'text/xml' 
end

%w(INT TERM).each do |signal|
  trap signal do
    server.shutdown
    exit!
  end
end

server.start